---
# file: vars/main.yml

nginx_prerequisites:
  - curl
  - gnupg2
  - lsb-release
  - ca-certificates
  - ssl-cert

nginx_gpg_key_url: https://nginx.org/keys/nginx_signing.key
nginx_gpg_key_id: 573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
nginx_apt_repo: "deb http://nginx.org/packages/{{ ansible_distribution|lower }} {{ ansible_lsb['codename']|default(ansible_distribution_release)|lower }} nginx"

nginx_service_name: nginx

nginx_user: www-data
nginx_group: www-data

nginx_pid_file: "{{ '/var/run/nginx.pid' if ansible_os_family|lower == 'debian' else
                    '/run/nginx.pid' if ansible_os_family|lower == 'redhat' else
                    '/run/nginx/nginx.pid' if ansible_os_family|lower == 'alpine' }}"

nginx_config_http_access_log: /var/log/nginx/access.log

nginx_config_dir: /etc/nginx
nginx_config_file: "{{ nginx_config_dir }}/nginx.conf"
nginx_conf_d_dir: "{{ nginx_config_dir }}/conf.d"
nginx_ssl_dir: "{{ nginx_config_dir }}/ssl"

# Specifies a file with DH parameters for DHE ciphers.
nginx_ssl_dhparam_file: "{{ nginx_ssl_dir }}/dhparam{{ nginx_ssl_dhparam_size }}.pem"

nginx_vhosts_conf_dir: "{{ nginx_config_dir ~ '/' ~ ('sites-available' if ansible_os_family|lower == 'debian' else
                                                     'conf.d' if ansible_os_family|lower in ['redhat','alpine']) }}"

nginx_vhosts_enabled_dir: "{{ nginx_config_dir ~ '/' ~ ('sites-enabled' if ansible_os_family|lower == 'debian' else
                                                        'conf.d' if ansible_os_family|lower in ['redhat','alpine']) }}"
nginx_vhosts_managed_file_name: vhosts.conf
nginx_vhosts_default_file_name: "{{ 'default' if ansible_os_family|lower == 'debian' else
                                    'default.conf' if ansible_os_family|lower == 'alpine' else
                                    '' }}"

nginx_websites_root_dir: "{{ '/var/www' if ansible_os_family|lower == 'debian' else
                             '/srv/www' if ansible_os_family|lower in ['redhat','alpine'] }}"
